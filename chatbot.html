<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a C√≥smica üå†</title>
    <link rel="stylesheet" href="styles-chat.css">
</head>
<body>
    <div class="chatbot-container">
        <div class="chatbot-header">
            Gu√≠a C√≥smica üå†
        </div>
        <div class="chatbot-messages" id="chat-messages">
            <!-- Mensajes aparecer√°n aqu√≠ -->
        </div>
        <div class="chatbot-options" id="chat-options">
            <!-- Botones de opciones aparecer√°n aqu√≠ -->
        </div>
    </div>

    <!-- Mascota flotante -->
    <div id="mascota-activa" class="mascota-flotante" style="display: none;">
        <div class="mascota-sprite-t" id="mascota-sprite">üê±</div>
        <div class="mascota-nombre-t" id="mascota-nombre">Mi Mascota</div>
    </div>

    <!-- Modal de la mascota -->
    <div id="modal-mascota" class="modal-mascota">
        <div class="modal-content-mascota">
            <div class="modal-header-mascota">
                <h2>üêæ Tu Familiar M√≠stico</h2>
                <button class="cerrar-modal" id="cerrar-modal">&times;</button>
            </div>
            <div class="mascota-display">
                <div class="mascota-sprite" id="mascota-sprite-modal">
                    <!-- Sprite de la mascota -->
                </div>
                <div class="mascota-name" id="mascota-name">Tu Familiar</div>
                <div class="mascota-status" id="mascota-status">Radiante de energ√≠a ‚ú®</div>
            </div>
            
            <div class="barras-estado">
                <div class="barra-container">
                    <div class="barra-label">üçñ Hambre</div>
                    <div class="barra-progreso">
                        <div class="barra-relleno hambre" id="barra-hambre" style="width: 100%"></div>
                    </div>
                    <span id="hambre-valor">100%</span>
                </div>
                
                <div class="barra-container">
                    <div class="barra-label">üò¥ Sue√±o</div>
                    <div class="barra-progreso">
                        <div class="barra-relleno sue√±o" id="barra-sue√±o" style="width: 100%"></div>
                    </div>
                    <span id="sue√±o-valor">100%</span>
                </div>
                
                <div class="barra-container">
                    <div class="barra-label">‚ö° Energ√≠a</div>
                    <div class="barra-progreso">
                        <div class="barra-relleno energia" id="barra-energia" style="width: 100%"></div>
                    </div>
                    <span id="energia-valor">100%</span>
                </div>
            </div>
            
            <div class="acciones-mascota">
                <button class="boton-accion alimentar" id="btn-alimentar">
                    <span class="accion-icon">üçñ</span>
                    Alimentar
                </button>
                <button class="boton-accion jugar" id="btn-jugar">
                    <span class="accion-icon">üéæ</span>
                    Jugar
                </button>
                <button class="boton-accion dormir" id="btn-dormir">
                    <span class="accion-icon">üò¥</span>
                    Dormir
                </button>
            </div>
            
            <div class="mascota-mensaje" id="mascota-mensaje">
                ¬°Tu familiar est√° muy feliz y lleno de energ√≠a m√≠stica!
            </div>
        </div>
    </div>

    <a href="index.html">Volver</a>

    <!-- Bot√≥n flotante de la mascota -->
    <div class="boton-mascota-flotante" id="boton-mascota">
        <span class="mascota-icon">üêæ</span>
    </div>

    <script src="chat.js"></script>
    <script src="scripts/mascota.js"></script>
    <script src="zodiac.js"></script>
    <script>
        // Inicializar la mascota cuando se cargue la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            const mascota = new MascotaVirtual();
            
            // Mostrar mascota flotante si hay una activa
            const mascotaActiva = localStorage.getItem('mascota_activa');
            if (mascotaActiva) {
                const mascotaData = JSON.parse(mascotaActiva);
                const mascotaFlotante = document.getElementById('mascota-activa');
                const mascotaSprite = document.getElementById('mascota-sprite');
                const mascotaNombre = document.getElementById('mascota-nombre');
                
                if (mascotaFlotante && mascotaSprite && mascotaNombre) {
                    mascotaSprite.textContent = mascotaData.sprite || 'üê±';
                    mascotaNombre.textContent = mascotaData.nombre || 'Mi Mascota';
                    mascotaFlotante.style.display = 'block';
                    mascotaFlotante.classList.add('appear');
                }
            }
            
            // Aplicar colores zodiacales
            if (window.ZodiacColors && window.ZodiacColors.aplicarColoresGuardados) {
                window.ZodiacColors.aplicarColoresGuardados();
            }
        });
    </script>
</body>
</html>